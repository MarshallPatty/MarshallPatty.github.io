(this["webpackJsonptime-blocker"]=this["webpackJsonptime-blocker"]||[]).push([[0],{24:function(e,t,a){e.exports=a(36)},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),c=a.n(l),o=a(20),i=a(5),s=a(23),m=a(8),u=a(9),h=a(12),d=a(11),p=a(10);function f(e){var t=e.split(":");return Number(t[0])+Number(t[1])/60}function E(e,t,a,n,r){return(e-t)*(r-n)/(a-t)+n}function k(e,t){var a=e;return t.forEach((function(e){a+=" "+e})),a+=" "}function v(e){var t=e.size,a=e.r1,n=e.r2,l=f(e.data.startTime),c=f(e.data.endTime),o=e.data.title,i=e.data.color,s=function(e,t,a,n,r){var l=E(e,0,24,0,2*Math.PI)-Math.PI/2,c=E(t,0,24,0,2*Math.PI)-Math.PI/2,o=[a/2+n*Math.cos(l),a/2+n*Math.sin(l)],i=[a/2+n*Math.cos(c),a/2+n*Math.sin(c)],s=[a/2+r*Math.cos(l),a/2+r*Math.sin(l)],m=[a/2+r*Math.cos(c),a/2+r*Math.sin(c)];return k("M",[s[0],s[1]])+k("L",[o[0],o[1]])+k("A",[n,n,0,0,1,i[0],i[1]])+k("L",[m[0],m[1]])+k("A",[r,r,0,0,0,s[0],s[1]])}(l,c,t,a,n),m=(a+n)/2,u=E(l,0,24,0,2*Math.PI)-Math.PI/2,h=E(c,0,24,0,2*Math.PI)-Math.PI/2,d=[t/2+m*Math.cos(u),t/2+m*Math.sin(u)],p=[t/2+m*Math.cos(h),t/2+m*Math.sin(h)],v=k("M",[d[0],d[1]])+k("A",[m,m,0,0,1,p[0],p[1]]);return r.a.createElement("g",null,r.a.createElement("path",{d:s,fill:i}),r.a.createElement("path",{d:v,id:o,fill:"none"}),r.a.createElement("text",null,r.a.createElement("textPath",{startOffset:"50%",textAnchor:"middle",href:"#"+o},o)))}var M,g=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).updateTime=function(){var e=new Date,t=E(e.getHours()+e.getMinutes()/60,0,24,0,2*Math.PI)-Math.PI/2,a=218.75*Math.cos(t)+350,l=218.75*Math.sin(t)+350,c=350*Math.cos(t)+350,o=350*Math.sin(t)+350;console.log("ANGLE",a,l,c,o);var i=r.a.createElement("line",{x1:a,y1:l,x2:c,y2:o,style:{stroke:"rgb(255,0,0)",strokeWidth:2}});n.setState({Time:i}),n.intervalID=setTimeout(n.updateTime.bind(Object(p.a)(n)),6e4)},n.state={Time:null},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.updateTime()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.intervalID)}},{key:"render",value:function(){var e=[];this.props.Blocks.forEach((function(t){e.push(r.a.createElement(v,{size:700,r1:350,r2:218.75,data:t,key:t.title}))}));for(var t=[],a=0;a<1440;a+=5){var n=2*a*Math.PI/1440,l=8;a%60==0&&(l=15);var c=218.75*Math.cos(n)+350,o=218.75*Math.sin(n)+350,i=(218.75-l)*Math.cos(n)+350,s=(218.75-l)*Math.sin(n)+350;a%60==0&&t.push(r.a.createElement("text",{textAnchor:"middle",x:193.75*Math.cos(n-Math.PI/2)+350,y:193.75*Math.sin(n-Math.PI/2)+350},a/60)),t.push(r.a.createElement("line",{x1:c,y1:o,x2:i,y2:s,style:{stroke:"rgb(0,0,0)",strokeWidth:1}}))}return r.a.createElement("svg",{width:700,height:700,xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("defs",null,r.a.createElement("mask",{id:"mask"},r.a.createElement("rect",{width:"100%",height:"100%",fill:"white"}),r.a.createElement("circle",{r:218.75,cx:350,cy:350}))),r.a.createElement("circle",{cx:350,cy:350,r:350,mask:"url(#mask)",fill:"darkgray"}),e,t,this.state.Time)}}]),a}(r.a.Component),y=a(18),b=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=y.parse(window.location.search.slice(1));"Blocks"in e&&n.setState({Blocks:JSON.parse(e.Blocks)})},n.changeHandler=function(e){var t=e.target.name,a=e.target.value;n.formData[t]=a},n.submitHandler=function(e){e.preventDefault();var t={startTime:n.formData.startTime,endTime:n.formData.endTime,title:n.formData.title,color:n.formData.color};n.setState({Blocks:[].concat(Object(s.a)(n.state.Blocks),[t])})},n.state={Blocks:[]},n.formData={startTime:"",endTime:"",title:"",color:""},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-around"}},r.a.createElement(g,{Blocks:this.state.Blocks}),r.a.createElement("form",{onSubmit:this.submitHandler},r.a.createElement("h2",null,"Add A Block"),r.a.createElement("div",null,r.a.createElement("label",null,"Title: "),r.a.createElement("input",{type:"text",name:"title",onChange:this.changeHandler})),r.a.createElement("div",null,r.a.createElement("label",null,"Start Time: "),r.a.createElement("input",{type:"time",name:"startTime",onChange:this.changeHandler})),r.a.createElement("div",null,r.a.createElement("label",null,"End Time: "),r.a.createElement("input",{type:"time",name:"endTime",onChange:this.changeHandler})),r.a.createElement("div",null,r.a.createElement("label",null,"Colour: "),r.a.createElement("input",{type:"color",name:"color",onChange:this.changeHandler})),r.a.createElement("input",{type:"submit",value:"Add"}),r.a.createElement("div",{style:{marginTop:"20px",display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridTemplateRows:"repeat(2, 1fr)",gridColumnGap:"10px"}},r.a.createElement("button",{onClick:function(){return document.getElementById("output").value=JSON.stringify(e.state.Blocks)}},"Get Current Blocks"),r.a.createElement("textarea",{id:"output",cols:"10",rows:"1"}),r.a.createElement("button",{onClick:function(){return document.getElementById("output-url-encoded").value="".concat(window.location.origin).concat(window.location.pathname,"?Blocks=").concat(encodeURIComponent(JSON.stringify(e.state.Blocks)))}},"Get perma link"),r.a.createElement("textarea",{href:"#",id:"output-url-encoded",cols:"10",rows:"1"}),r.a.createElement("button",{onClick:function(){return e.setState({Blocks:JSON.parse(document.getElementById("input").value)})}},"Input Blocks"),r.a.createElement("textarea",{id:"input",cols:"10",rows:"1"}))))}}]),a}(r.a.Component),w=a(18);"Blocks"in w.parse(window.location.search.slice(1))&&(M=JSON.parse(w.parse(window.location.search.slice(1)).Blocks));var T=function(){return r.a.createElement(g,{Blocks:M})};c.a.render(r.a.createElement(o.a,{basename:""},r.a.createElement(i.a,{exact:!0,path:"/",component:b}),r.a.createElement(i.a,{path:"/display",component:T})),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.df2b1316.chunk.js.map